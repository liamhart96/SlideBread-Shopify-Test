var U=Object.defineProperty;var O=(t,r,a)=>r in t?U(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a;var b=(t,r,a)=>O(t,typeof r!="symbol"?r+"":r,a);import"./modulepreload-polyfill.B5Qt9EMX.min.js";import{c as f,R as A,a as w,B as M}from"./CartService.DjU9-j2s.min.js";import{j as e,r as u,t as j,c as q}from"./bundle-mjs.DY7OEoBL.min.js";class S extends HTMLElement{constructor(){super(...arguments);b(this,"unsubscribe")}connectedCallback(){this.unsubscribe=f.subscribe("cart:updated",a=>{const s=a.item_count;this.textContent=s.toString(),s>0?this.classList.remove("hidden"):this.classList.add("hidden")})}disconnectedCallback(){this.unsubscribe&&this.unsubscribe()}}b(S,"elementName","cart-counter");customElements.define(S.elementName,S);function E({className:t}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",className:t,children:e.jsx("path",{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"})})}function $({className:t}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:e.jsx("path",{d:"m6 9 6 6 6-6"})})}function D({className:t}){return e.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",style:{width:"1.2rem",height:"1.2rem"},children:e.jsx("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})})}class C{static formatCurrency(r,a="GBP",s="en-GB"){return new Intl.NumberFormat(s,{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(r/100)}}function R({items:t,onUpdateQuantity:r,onRemoveItem:a}){return e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-my-6 divide-y divide-gray-200",children:t.map(s=>e.jsxs("li",{className:"flex py-6",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover object-center"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-sm text-gray-400",children:"No image"})})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-primary flex justify-between text-base font-medium",children:[e.jsx("h3",{children:e.jsx("a",{href:s.url,children:s.title})}),e.jsx("p",{className:"ml-4",children:C.formatCurrency(s.final_price)})]}),e.jsxs("div",{className:"text-primary flex justify-between text-base font-medium",children:[s.variant_title&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s.variant_title}),e.jsxs("p",{className:"mt-1 flex space-x-1 text-sm text-gray-500",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Covered By Guarantee"})]})]})]}),e.jsxs("div",{className:"flex flex-1 items-end justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{type:"button",className:"cursor-pointer rounded-l-md border border-r-0 border-gray-300 px-2 py-1 text-gray-500 hover:bg-gray-50",onClick:()=>r(s.key,s.quantity-1),disabled:s.quantity<=1,children:"-"}),e.jsx("span",{className:"w-10 border-y border-gray-300 py-1 text-center",children:s.quantity}),e.jsx("button",{type:"button",className:"cursor-pointer rounded-r-md border border-l-0 border-gray-300 px-2 py-1 text-gray-500 hover:bg-gray-50",onClick:()=>r(s.key,s.quantity+1),children:"+"})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{type:"button",className:"text-primary hover:text-primary-light cursor-pointer font-medium",onClick:()=>a(s.key),children:"Remove"})})]})]})]},s.key))})})}const F=()=>{try{const t=document.getElementById("initial-cart-state");if(t!=null&&t.textContent){const r=JSON.parse(t.textContent);if(r&&typeof r=="object"&&Array.isArray(r.items))return r}}catch(t){console.error("Error parsing initial cart state:",t)}return null};function T(){const[t,r]=u.useState(()=>F()),[a,s]=u.useState(!1),o=u.useRef(t!==null),m=l=>{const h=document.querySelector("[data-cart-price]");h&&(h.textContent=C.formatCurrency(l))},d=l=>{const h=document.querySelector("[data-cart-checkout-button]");h&&(h.disabled=l)};u.useEffect(()=>{if(o.current)console.log("Initial cart state loaded from script tag."),f.fetchCart();else{const c=f.getState();c&&c.items.length>0?(console.log("Using cartService state as initial state."),r(c),m(c.total_price),d(c.items.length===0),o.current=!0):(s(!0),d(!0),f.fetchCart().then(n=>{n?(r(n),m(n.total_price),d(n.items.length===0)):(r({items:[],item_count:0,total_price:0,original_total_price:0,total_discount:0,currency:"",note:null,attributes:{}}),m(0),d(!0)),s(!1),o.current=!0}))}const l=f.subscribe("cart:updated",c=>{r(c),m(c.total_price),d(c.items.length===0)}),h=f.subscribe("cart:loading",c=>{o.current||s(c.loading)});return()=>{l(),h()}},[]);const p=async(l,h)=>{await f.updateItem(l,h)},g=async l=>{await f.removeItem(l)};return a&&!o.current?e.jsx("div",{className:"p-6 text-center",children:"Loading cart items..."}):!t||t.items.length===0?(m(0),d(!0),e.jsx("div",{className:"p-6 text-center",children:"Your cart is empty."})):e.jsx(R,{items:t.items,onUpdateQuantity:p,onRemoveItem:g})}class B extends A{connectedCallback(){super.connectedCallback(),this.renderReact(e.jsx(T,{}))}}b(B,"elementName","cart-item-list");customElements.define(B.elementName,B);function G(){const[t,r]=u.useState(!1),[a,s]=u.useState(!1),[o,m]=u.useState(!1),[,d]=u.useState(0);u.useEffect(()=>{const x=w.subscribe("cart:open",()=>{r(!0)}),v=w.subscribe("cart:close",()=>{r(!1)}),k=w.subscribe("cart:toggle",()=>{r(w.isCartOpen())}),y=f.subscribe("cart:updated",()=>{d(L=>L+1)}),N=f.subscribe("cart:loading",L=>{m(L.loading)});return()=>{x(),v(),k(),y(),N()}},[]);const p=()=>{w.closeCart()},g=()=>{w.closeCart()},l=async(x,v)=>{await f.updateItem(x,v)},h=async x=>{await f.removeItem(x)},c=()=>{s(!0)},n=()=>{s(!1)},i=f.getState();return e.jsxs(e.Fragment,{children:[e.jsxs("dialog",{open:a,className:"fixed inset-0 z-[60] m-0 h-full w-full bg-transparent p-0",onClick:n,children:[e.jsx("div",{className:"fixed inset-0 bg-white/70","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"m-6 flex min-h-full items-center justify-center",children:e.jsxs("div",{className:"relative w-full max-w-2xl overflow-y-auto rounded-lg bg-white p-6 shadow-xl",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"mb-6 flex items-center justify-center",children:[e.jsx("h2",{className:"text-primary text-xl font-medium",children:"12-month guarantee"}),e.jsx("button",{type:"button",className:"text-primary hover:text-primary-light absolute right-4 top-6 cursor-pointer",onClick:n,children:e.jsx(E,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"prose prose-sm",children:[e.jsx("p",{children:"After 30 days and up to 12 months from the date your order arrived, if your plant's health experiences a significant decline*, Beards & Daisies customers are eligible for a 50% discount to be used when purchasing a replacement of the same plant or an equivalent one if the original plant is not in stock."}),e.jsxs("ul",{className:"mt-4 space-y-2",children:[e.jsx("li",{children:"The person who received the plant must be the same as the original order"}),e.jsx("li",{children:"The 50% discount only applies towards replacements of the same plant from the original order"}),e.jsx("li",{children:"Limit of one replacement per plant from the original order"}),e.jsx("li",{children:"Discount applies only towards the plant and does not include accessories"}),e.jsx("li",{children:"Delivery is not included"}),e.jsx("li",{children:"Discount cannot be combined with any other offers or promotions"}),e.jsx("li",{children:"Discount cannot be applied towards a plant that has already been replaced under one of our guarantees"}),e.jsx("li",{children:"Valid period is after 30 days and up to 12 months from the date your order arrived."}),e.jsx("li",{children:"Warranty does not cover plants bought as part of our Houseplants Rescue Offer, and seasonal products"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"*Please note that in order for a claim to be accepted, the decline in the plant's health must be significant and reasonable. Replacement requests will not be approved for plants that are still in generally good condition or if the decline in health can be easily rectified with minor adjustments in care."}),e.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Claims do not receive automatic approval and are subject to a review process by our plant care team. This process assesses the validity of the claim and ensures a proper evaluation of the plant's condition."})]})]})})})]}),e.jsx("div",{className:j("fixed inset-0 z-50 transition-opacity duration-300",t?"bg-white/70":"pointer-events-none opacity-0"),onClick:g}),e.jsx("div",{className:j("fixed inset-y-0 right-0 z-50 w-full max-w-xl transform overflow-y-auto bg-white shadow-xl transition-transform duration-300 ease-in-out",t?"translate-x-0":"translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsx("div",{className:"border-b border-gray-200 bg-white px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-primary text-lg font-medium",children:"Your Bag"}),e.jsxs("button",{type:"button",className:"cursor-pointer text-gray-400 hover:text-gray-500",onClick:p,children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(E,{className:"h-6 w-6"})]})]})}),e.jsxs("div",{className:"bg-tertiary flex items-center justify-center space-x-2 p-2",children:[e.jsx(D,{className:"h-6 w-6"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("b",{children:"Free 12 month plant guarantee on ALL orders"})," - we've got you covered!"," ",e.jsx("button",{type:"button",className:"cart-guarantee-learn-more cursor-pointer underline",onClick:c,children:"Learn more"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6",children:o?e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx("div",{className:"border-t-primary h-8 w-8 animate-spin rounded-full border-2 border-gray-300"})}):!i||i.items.length===0?e.jsxs("div",{className:"flex h-full flex-col items-center justify-center",children:[e.jsx("p",{className:"text-primary mb-4 text-center text-lg font-medium",children:"Your bag is empty"}),e.jsx("button",{onClick:p,className:"btn btn-secondary",children:"Continue Shopping"})]}):e.jsx(R,{items:i.items,onUpdateQuantity:l,onRemoveItem:h})}),i&&i.items.length>0&&!o&&e.jsxs("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"text-primary flex justify-between text-base font-medium",children:[e.jsx("p",{children:"Subtotal"}),e.jsx("p",{children:C.formatCurrency(i.original_total_price)})]}),i.total_discount>0&&e.jsxs("div",{className:"text-primary flex justify-between text-base font-medium",children:[e.jsx("p",{children:"Discount"}),e.jsxs("p",{children:["-",C.formatCurrency(i.total_discount)]})]}),e.jsxs("div",{className:"text-primary mt-2 flex justify-between text-base font-medium",children:[e.jsx("p",{children:"Total"}),e.jsx("p",{children:C.formatCurrency(i.total_price)})]}),e.jsx("p",{className:"mt-0.5 text-sm text-gray-500",children:"Shipping and taxes calculated at checkout."}),e.jsx("div",{className:"mt-6",children:e.jsx("a",{href:"/cart",className:"btn btn-secondary flex w-full items-center justify-center",children:"Go To Bag"})}),e.jsx("div",{className:"mt-6 flex justify-center text-center text-sm text-gray-500",children:e.jsxs("p",{children:["or"," ",e.jsxs("button",{type:"button",className:"text-primary hover:text-primary-light cursor-pointer font-medium",onClick:p,children:["Continue Shopping",e.jsx("span",{"aria-hidden":"true",children:" â†’"})]})]})})]})]})})]})}class I extends A{connectedCallback(){super.connectedCallback(),this.renderReact(e.jsx(G,{}))}}b(I,"elementName","cart-drawer");customElements.define(I.elementName,I);function _({title:t,url:r,children:a,hasChildren:s,isOpen:o,onToggle:m,id:d,index:p=0,parentIsOpen:g=!0}){return e.jsx("div",{className:j("border-b border-gray-100 transition-all duration-200 last:border-b-0",g?"translate-y-0 opacity-100":"-translate-y-2 opacity-0"),style:{transitionDelay:`${p*25}ms`},children:s?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"text-primary flex w-full items-center justify-between rounded-md px-4 py-3 text-base font-medium transition-colors hover:bg-gray-50",onClick:()=>m(d),children:[t,e.jsx($,{className:j("h-5 w-5 text-gray-500 transition-transform duration-200",o&&"rotate-180")})]}),e.jsx("div",{className:j("overflow-hidden transition-all duration-200 ease-in-out",o?"max-h-screen opacity-100":"max-h-0 opacity-0"),children:e.jsx("div",{className:"my-1 ml-2 border-l border-gray-50 pl-2",children:a==null?void 0:a.map((l,h)=>{var c;return e.jsx("div",{className:j("transition-all duration-200",o?"translate-y-0 opacity-100":"-translate-y-2 opacity-0"),style:{transitionDelay:o?`${h*25}ms`:"0ms"},children:e.jsx(_,{title:l.title,url:l.url,children:l.children,hasChildren:!!((c=l.children)!=null&&c.length),isOpen:l.isOpen,onToggle:m,id:l.id,parentIsOpen:o},l.id)},l.id)})})})]}):e.jsx("a",{href:r,className:"text-primary block rounded-md px-4 py-3 text-base font-medium transition-colors hover:bg-gray-50",children:t})})}function P({isOpen:t,onClose:r,menuLinks:a=[]}){const[s,o]=u.useState(!1),[m,d]=u.useState(!1),p=u.useRef(null),[g,l]=u.useState(new Set);u.useEffect(()=>{t?(d(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!0),setTimeout(()=>{d(!0)},100)})}),document.body.style.overflow="hidden"):(o(!1),d(!1),document.body.style.overflow="")},[t]),u.useEffect(()=>{const n=i=>{t&&i.key==="Escape"&&r()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,r]),u.useEffect(()=>{t&&p.current&&setTimeout(()=>{var n;(n=p.current)==null||n.focus()},100)},[t]);const h=n=>{l(i=>{const x=new Set(i);return x.has(n)?x.delete(n):x.add(n),x})},c=a.reduce((n,i,x)=>{var k;const v={...i,children:[],id:`${i.level}-${x}-${i.url}`,isOpen:g.has(`${i.level}-${x}-${i.url}`)};if(i.level===1)n.push(v);else if(i.level===2){const y=n[n.length-1];y&&y.children&&y.children.push(v)}else if(i.level===3){const y=n[n.length-1];if(((k=y==null?void 0:y.children)==null?void 0:k.length)>0){const N=y.children[y.children.length-1];N&&N.children&&N.children.push(v)}}return n},[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:j("bg-primary fixed inset-0 z-50 transition-opacity duration-200 ease-in-out",s?"pointer-events-auto opacity-50":"pointer-events-none opacity-0"),onClick:r,"aria-hidden":"true"}),e.jsx("div",{className:j("fixed inset-y-0 left-0 z-50 w-full max-w-sm transform bg-white shadow-xl transition-all duration-200 ease-out",s?"translate-x-0":"-translate-x-full"),onClick:n=>n.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"drawer-title",children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 bg-gray-50 px-6 py-4",children:[e.jsx("h2",{id:"drawer-title",className:"text-primary text-lg font-semibold",children:"Menu"}),e.jsx("button",{ref:p,onClick:r,className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-500 transition-colors hover:bg-gray-200 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-200","aria-label":"Close menu",children:e.jsx(E,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:e.jsx("nav",{className:"space-y-1",children:c.map((n,i)=>e.jsx(_,{title:n.title,url:n.url,children:n.children,hasChildren:n.children.length>0,isOpen:g.has(n.id),onToggle:h,id:n.id,index:i,parentIsOpen:m},n.id))})})]})})]})}class z extends HTMLElement{constructor(){super(...arguments);b(this,"root",null);b(this,"isOpen",!1);b(this,"handleMenuButtonClick",()=>{this.isOpen=!0,this.render()});b(this,"handleCartButtonClick",()=>{window.cartDrawerService&&window.cartDrawerService.openCart()});b(this,"handleClose",()=>{this.isOpen=!1,this.render()})}connectedCallback(){const a=document.getElementById("mobile-menu-button");a&&a.addEventListener("click",this.handleMenuButtonClick);const s=document.getElementById("cart-button");s&&s.addEventListener("click",this.handleCartButtonClick),this.root=q.createRoot(this),this.render()}disconnectedCallback(){const a=document.getElementById("mobile-menu-button");a&&a.removeEventListener("click",this.handleMenuButtonClick);const s=document.getElementById("cart-button");s&&s.removeEventListener("click",this.handleCartButtonClick),this.root&&(this.root.unmount(),this.root=null)}render(){if(!this.root)return;const a=[];document.querySelectorAll("[data-menu-link]").forEach((s,o)=>{const m=s.getAttribute("href")||"",d=s.textContent||"",p=parseInt(s.getAttribute("data-menu-level")||"1",10);a.push({url:m,title:d,level:p,children:[],id:`${p}-${o}-${m}`,isOpen:!1})}),this.root.render(e.jsx(P,{isOpen:this.isOpen,onClose:this.handleClose,menuLinks:a}))}}typeof window<"u"&&!customElements.get("main-nav-drawer")&&customElements.define("main-nav-drawer",z);class H extends M{constructor(){super(".js-flickity",{cellAlign:"center",contain:!0,pageDots:!1,autoPlay:!0,pauseAutoPlayOnHover:!0,wrapAround:!0,prevNextButtons:!1}),this.init()}}new H;
